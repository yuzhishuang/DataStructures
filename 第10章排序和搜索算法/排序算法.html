<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script type="text/javascript">
    (function(){
       //  创建一个数组表示排序和搜索的数据结构
       function ArrayList () {
       	var array = [];
       	this.insert = function (item) {
       		array.push(item);
       	};
       	this.toString = function () {
       		return array.join();
       	};
       	//  冒泡排序
       	var swap = function (array, index1, index2) {
       		var aux = array[index1];
       		array[index1] = array[index2];
       		array[index2] = aux;
       		//  ES6写法
       		//  [array[index1], array[index2]] = [array[index2], array[index1]]
       	}
       	this.bubbleSort = function () {
       		var number = 0;
       		var length = array.length;
       		for (var i = 0; i < length; i++) {
       			for (var j = 0; j < length -1; j++) {
       				number++;
       				if (array[j] > array[j + 1]) {
       					swap(array, j, j+1);
       				}
       			}
       		}
       		return number;
       	}
       	//  自己冒泡排序
       	this.bubbleSortMine = function () {
       		var number = 0;
       		var length = array.length;
       		for (var i = 0; i < length - 1; i++) {
       			for (var j = 0; j < length - 1 - i; j++) {
       				number++;
       				if (array[j] > array[j + 1]) {
       					swap(array, j, j+1);
       				}
       			}
       		}
       		return number;
       	}
       }
       //  测试冒泡排序算法
       function createNonSortedArray (size) {
       	var array = new ArrayList();
       	for (var i = size; i > 0; i--) {
       		array.insert(i);
       	}
       	return array;
       }
       var array = createNonSortedArray(5);
       console.log(array.toString());
       console.log(array.bubbleSort());
       console.log(array.toString());
       var array1 = createNonSortedArray(5);
       console.log(array1.toString());
       console.log(array1.bubbleSortMine());
       console.log(array1.toString());
    })();
</script>
</body>
</html>